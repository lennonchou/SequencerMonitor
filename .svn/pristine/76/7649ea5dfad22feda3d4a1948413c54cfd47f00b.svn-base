var _ = require('underscore')

exports.constructSelectSQL = function(columns, table, fields) {
    if (typeof columns !== 'undefined' && columns !== null && typeof table !== 'undefined' && table !== null) {
        var sql = 'SELECT ' + columns.join(', ') + ' FROM ' + table + (fields && fields.length ? ' WHERE ' : ' ');
        condition = _.map(fields, function(field) {
            var compare = field.exact ? ' = ' : (field.low ? ' > ' : (field.high ? ' < ' : ' LIKE '));
            return field.name + compare + '?';
        })
        var conditions = condition.join(' AND ')
        return sql + conditions;
    }   
    return null;
};

exports.validationCheck = function(values) {
    return _.every(values, function(value) {
        return (typeof value !== 'undefined' && value !== null);
    });
};
